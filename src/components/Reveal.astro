---
const { text, initialDelay = 0, speed = 1.5 } = Astro.props;

let totalIndex = 0;
---

{
	text.split(" ").map((word: string, wi: number) => (
		<>
			<span class="word">
				{word.split("").map((char: string) => (
					<span
						class="char vercel-lookin-ass"
						style={`--delay: ${
							initialDelay + totalIndex++ / (text.length * speed)
						}s`}
					>
						{char}
					</span>
				))}
			</span>
		</>
	))
}

<style>
	@keyframes fadeIn {
		0% {
			translate: 0 0.75em;
			opacity: 0;
		}
		100% {
			translate: 0 0rem;
			opacity: 1;
		}
	}

	.word {
		/* white-space: nowrap; */
		display: inline-block;
	}

	.char {
		animation: fadeIn 0.5s var(--delay) forwards;
		opacity: 0;

		display: inline-block;
		translate: 0 0.75em;
	}
</style>
